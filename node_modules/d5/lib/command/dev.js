var supervisor = require('supervisor');

var yargs = require('yargs');

exports = module.exports = function(args) {
    var argv = yargs.parse(args);

    if(argv._.length != 1) {
        console.error('Usage: d5 dev {moduleName} [opts ...]');
        process.exit(1);
    }

    var moduleName = String(argv._[0]);
    
    supervisor.run(['-q', moduleName]);
};

exports.help = function() {
    console.log('Run module and restart it if changes are found.')
    console.log('Usage: d5 dev {moduleName} [opts ...]')
    console.log();
    yargs.showHelp();
};